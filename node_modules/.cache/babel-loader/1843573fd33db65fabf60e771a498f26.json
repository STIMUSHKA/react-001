{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\xaere\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\stuff\\\\react-001-starter-files-2021-main\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import AddBurgerForm from\"./AddBurgerForm\";import EditBurgerForm from\"./EditBurgerForm\";import firebase from\"firebase/app\";var MenuAdmin=/*#__PURE__*/function(_React$Component){_inherits(MenuAdmin,_React$Component);var _super=_createSuper(MenuAdmin);function MenuAdmin(){var _this;_classCallCheck(this,MenuAdmin);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={photo:\"\",user:\"\"};_this.authHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(authData){var _authData$user,email,photoURL;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_authData$user=authData.user,email=_authData$user.email,photoURL=_authData$user.photoURL;_this.setState({user:email,photo:photoURL});console.log(email);case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();return _this;}_createClass(MenuAdmin,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;firebase.auth().onAuthStateChanged(function(user){if(user){_this2.authHandler({user:user});}});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,user=_this$state.user,photo=_this$state.photo;var avatar=photo?photo:'/images/avatar.png';return/*#__PURE__*/React.createElement(\"div\",{className:\"menu-admin\"},user?/*#__PURE__*/React.createElement(\"div\",{className:\"login-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},/*#__PURE__*/React.createElement(\"img\",{src:avatar,alt:user})),/*#__PURE__*/React.createElement(\"button\",{className:\"buttonLogout\",onClick:this.props.handleLogout},\"\\u0412\\u044B\\u0439\\u0442\\u0438\")):null,/*#__PURE__*/React.createElement(\"h2\",null,\"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u043C\\u0435\\u043D\\u044E\"),/*#__PURE__*/React.createElement(AddBurgerForm,{addBurger:this.props.addBurger}),/*#__PURE__*/React.createElement(\"button\",{onClick:this.props.loadSampleBurgers},\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u0438\\u0442\\u044C \\u0436\\u0440\\u0430\\u043A\\u0443\"),Object.keys(this.props.burgers).map(function(key){return/*#__PURE__*/React.createElement(EditBurgerForm,{key:key,index:key,burger:_this3.props.burgers[key],updateBurger:_this3.props.updateBurger,deleteBurger:_this3.props.deleteBurger});}));}}]);return MenuAdmin;}(React.Component);export default MenuAdmin;","map":{"version":3,"sources":["C:/Users/xaere/OneDrive/Рабочий стол/stuff/react-001-starter-files-2021-main/src/components/MenuAdmin.js"],"names":["React","AddBurgerForm","EditBurgerForm","firebase","MenuAdmin","state","photo","user","authHandler","authData","email","photoURL","setState","console","log","auth","onAuthStateChanged","avatar","props","handleLogout","addBurger","loadSampleBurgers","Object","keys","burgers","map","key","updateBurger","deleteBurger","Component"],"mappings":"2gDAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,cAArB,C,GAEMC,CAAAA,S,mVACJC,K,CAAQ,CACNC,KAAK,CAAE,EADD,CAENC,IAAI,CAAE,EAFA,C,OAaRC,W,0FAAc,iBAAOC,QAAP,mKACgBA,QAAQ,CAACF,IADzB,CACJG,KADI,gBACJA,KADI,CACGC,QADH,gBACGA,QADH,CAEZ,MAAKC,QAAL,CAAc,CAAEL,IAAI,CAAEG,KAAR,CAAeJ,KAAK,CAAEK,QAAtB,CAAd,EACAE,OAAO,CAACC,GAAR,CAAYJ,KAAZ,EAHY,sD,oIARd,4BAAoB,iBAClBP,QAAQ,CAACY,IAAT,GAAgBC,kBAAhB,CAAmC,SAACT,IAAD,CAAU,CAC3C,GAAIA,IAAJ,CAAU,CACR,MAAI,CAACC,WAAL,CAAiB,CAAED,IAAI,CAAJA,IAAF,CAAjB,EACD,CACF,CAJD,EAKD,C,sBAgBD,iBAAS,iCACgB,KAAKF,KADrB,CACCE,IADD,aACCA,IADD,CACOD,KADP,aACOA,KADP,CAEP,GAAMW,CAAAA,MAAM,CAAGX,KAAK,CAAGA,KAAH,CAAW,oBAA/B,CACA,mBACE,2BAAK,SAAS,CAAC,YAAf,EACIC,IAAI,cACN,2BAAK,SAAS,CAAC,cAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,2BAAK,GAAG,CAAEU,MAAV,CAAkB,GAAG,CAAEV,IAAvB,EADF,CADF,cAIE,8BAAQ,SAAS,CAAC,cAAlB,CAAiC,OAAO,CAAE,KAAKW,KAAL,CAAWC,YAArD,mCAJF,CADM,CASF,IAVN,cAWE,sHAXF,cAYE,oBAAC,aAAD,EAAe,SAAS,CAAE,KAAKD,KAAL,CAAWE,SAArC,EAZF,cAaE,8BAAQ,OAAO,CAAE,KAAKF,KAAL,CAAWG,iBAA5B,0FAbF,CAcGC,MAAM,CAACC,IAAP,CAAY,KAAKL,KAAL,CAAWM,OAAvB,EAAgCC,GAAhC,CAAoC,SAACC,GAAD,CAAS,CAC5C,mBACE,oBAAC,cAAD,EACE,GAAG,CAAEA,GADP,CAEE,KAAK,CAAEA,GAFT,CAGE,MAAM,CAAE,MAAI,CAACR,KAAL,CAAWM,OAAX,CAAmBE,GAAnB,CAHV,CAIE,YAAY,CAAE,MAAI,CAACR,KAAL,CAAWS,YAJ3B,CAKE,YAAY,CAAE,MAAI,CAACT,KAAL,CAAWU,YAL3B,EADF,CASD,CAVA,CAdH,CADF,CA4BD,C,uBA3DqB5B,KAAK,CAAC6B,S,EA8D9B,cAAezB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\r\nimport propTypes from \"prop-types\";\r\nimport AddBurgerForm from \"./AddBurgerForm\";\r\nimport EditBurgerForm from \"./EditBurgerForm\";\r\nimport firebase from \"firebase/app\";\r\n\r\nclass MenuAdmin extends React.Component {\r\n  state = {\r\n    photo: \"\",\r\n    user: \"\",\r\n  };\r\n\r\n  componentDidMount() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.authHandler({ user });\r\n      }\r\n    });\r\n  }\r\n\r\n  authHandler = async (authData) => {\r\n    const { email, photoURL } = authData.user;\r\n    this.setState({ user: email, photo: photoURL });\r\n    console.log(email);\r\n  };\r\n\r\n  static propTypes = {\r\n    burgers: propTypes.object,\r\n    deleteBurgers: propTypes.func,\r\n    updateBurgers: propTypes.func,\r\n    addBurgers: propTypes.func,\r\n    loadSampleBurgers: propTypes.func,\r\n  };\r\n\r\n  render() {\r\n    const { user, photo} = this.state;\r\n    const avatar = photo ? photo : '/images/avatar.png'\r\n    return (\r\n      <div className=\"menu-admin\">\r\n        { user ? (\r\n        <div className=\"login-header\">\r\n          <div className=\"avatar\">\r\n            <img src={avatar} alt={user} />\r\n          </div>\r\n          <button className=\"buttonLogout\" onClick={this.props.handleLogout}>\r\n            Выйти\r\n          </button>\r\n        </div>\r\n        ) : null }\r\n        <h2>Управление меню</h2>\r\n        <AddBurgerForm addBurger={this.props.addBurger} />\r\n        <button onClick={this.props.loadSampleBurgers}>Загрузить жраку</button>\r\n        {Object.keys(this.props.burgers).map((key) => {\r\n          return (\r\n            <EditBurgerForm\r\n              key={key}\r\n              index={key}\r\n              burger={this.props.burgers[key]}\r\n              updateBurger={this.props.updateBurger}\r\n              deleteBurger={this.props.deleteBurger}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuAdmin;\r\n"]},"metadata":{},"sourceType":"module"}